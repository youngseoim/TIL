### 미디어 쿼리

- 출력 장치의 여러 특징 가운데 일부를 참조하여 CSS 코드를 분기 처리함으로써 하나의 HTML 소스가 여러가지 뷰를 갖도록 구현할 수 있는 명세이다. 일반적으로 뷰포트 해상도에 따라 CSS 코드를 분기한다.
  - 단말기의 유형(출력물 vs 화면)과 어떤 특성이나 수치(화면 해상도, 뷰포트 너비 등)에 따 웹사이트나 앱의 스타일을 수정할 때 유용하다다.
- 





### 미디어 쿼리란

- 출력 장치의 여러 특징 가운데 일부를 참조하여 CSS 코드를 분기 처리함으로써 하나의 HTML 소스가 여러가지 뷰를 갖도록 구현할 수 있는 명세이다. 일반적으로 뷰포트 해상도에 따라 CSS 코드를 분기한다.
  - 단말기의 유형(출력물 vs 화면)과 어떤 특성이나 수치(화면 해상도, 뷰포트 너비 등)에 따 웹사이트나 앱의 스타일을 수정할 때 유용하다.

- 미디어 유형
  - all  --- 모든 장치에 적합
  - print --- 인쇄 결과물 및 출력 미리보기 화면에 표시 중인 문서
  - Screen --- 주로 화면 대상
  - Speech --- 음성 합성장치 대상
- 사용하지 않는 미디어 유형
  - tty , tv, projection, handheld, braille, embossed, aural 
- 미디어 특성
  - width / hieght
  - aspect-ratio --- 뷰포트 가로세로비
  - Orientation --- 뷰포트 방향
  - resolution --- 출력 장치의 해상도
  - Scan --- 출력 장치의 스캔 방법
  - Grid --- 격자와 비트맵 중 출력 장치가 사용하는 화면
  - Update --- 출력 장치가 화면을 업데이트 하는 주기 
  - Overflow-block --- 블록 축의 내용이 넘쳤을 때 출력 장치가 처리하는 방법
  - Overflow-inline --- 인라인 축의 내용이 넘쳤을 때 스크롤의 가능 여부
  - color --- 출력 장치의 색상 채널별 비트 수 , 흑백일 땐 0
  - Color-gamut --- 사용자 에이전트와 출력 장치가 지원하는 색상의 대략적인 범위
  - Color-index --- 출력 장치의 색상 룩업 테이블(LUT) 항목 수, 존재하지 않을 땐 0
  - Display-mode --- 웹 앱 매니페스트의 display 항목이 정의한 애플리케이션 표시 모드
  - monochrome --- 출력 장치의, 모노크롬 프레임 버퍼의 픽셀 당 비트 수 , 단색을 사용하지 않으면 0
  - Inverted-colors --- 사용자 에이전트나 운영체제가 색을 반전 중인지 여부
  - pointer --- 포인팅 장치가 주요 입력 수단인지 여부와, 그렇다면 그 정확도
  - Hover --- 주요 입력 수단으로 요소 위에 호버할 수 있는지 여부 
  - Any-pointer --- 입력 수단 중 포인팅 장치의 존재 여부와, 존재한다면 그 정확도
  - any-hover --- 어떤 입력 수단으로 요소 위에 호버할 수 있는지 여부
  - light- level ---환경의 광도
  - prefers- reduced - motion --- 사용자가 줄어든 움직임을 선호함
  - Prefers- reduced - transparency --- 사용자가 줄어든 투명도를 선호함
  - Prefers -contrast --- 사용자가 시스템에 고대비/저대비를 요청했는지 여부

- CSS 내부에서 분기하는 방법

  - 기본적인 문법의 예 
    - @import all and (조건문) {실행문}
    - @import --- 미디어 쿼리가 시작됨을 선언,요소는 공백으로 구분한다
    - all --- 이 키워드는 미디어 쿼리를 해석해야 할 대상 미디어를 선언
    - Screen, print와 같은 특정 미디어를 언급할 수 있고, 생략했을 시 default값은 all이다 

- CSS 외부에서 분기하는 방법 (이 방식은 성능 최적화 측면에서 권장하지 않음)

  - 기본적인 문법의 예
    - link rel="stylesheet" type="text/css" media="all and (조건A)" href="A.css"
    - link rel="stylesheet" type="text/css" media="all and (조건B)" href="B.css"
      - 위 방법의 경우 사용자가 조건을 변경하는것과 관계 없이 a,b 파일을 항상 요청한다 그렇게 되면 요청을 불필요하게 두 번 발생시켜 성능 저하의 원인이 된다

- 미디어 쿼리 코드 템플릿

  - 아래 코드는 모든 해상도를 커버하기 위한 미디어 쿼리 코드 템플릿이다.

  - 기기별 대응 코드를 분류 했지만 Liquid 레이아웃 기법을 사용하면 사실상 모든 해상도를 커버 할 수 있다.

  - ```css
    @charset "utf-8";
    
    /* All Device */
    모든 해상도를 위한 공통 코드를 작성한다. 모든 해상도에서 이 코드가 실행됨.
    
    /* Mobile Device */
    768px 미만 해상도의 모바일 기기를 위한 코드를 작성한다. 모든 해상도에서 이 코드가 실행됨. 미디어 쿼리를 지원하지 않는 모바일 기기를 위해 미디어 쿼리 구문을 사용하지 않는다.
    
    /* Tablet &amp; Desktop Device */
    @media all and (min-width:768px) {
        사용자 해상도가 768px 이상일 때 이 코드가 실행됨. 테블릿과 데스크톱의 공통 코드를 작성한다.
    }
    
    /* Tablet Device */
    @media all and (min-width:768px) and (max-width:1024px) {
        사용자 해상도가 768px 이상이고 1024px 이하일 때 이 코드가 실행됨. 아이패드 또는 비교적 작은 해상도의 랩탑이나 데스크톱에 대응하는 코드를 작성한다.
    }
    
    /* Desktop Device */
    @media all and (min-width:1025px) {
        사용자 해상도가 1025px 이상일 때 이 코드가 실행됨. 1025px 이상의 랩탑 또는 데스크톱에 대응하는 코드를 작성한다.
    }
    ```

반응형웹 마크업 가이드 제작 전 고민사항

\1. 미디어쿼리 해상도 분기문제

\2. IE8 브라우저의 하위 호환성

\3. 모바일 환경에서의 성능문제

\4. 가변적 그리드 기반의 레이아웃

\5. 웹폰트를 기본글꼴로 사용시 브라우저 호환성 및 모바일 성능저하 문제



### padding의 %

hieght:는 부모를 참조하고 padding 은 자기 자신을 참조한다 .

padding %는  부모 요소의 가로사이즈를 기준으로 움직인다

